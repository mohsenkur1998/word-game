<!DOCTYPE html>
<html>
  <head>
    <title>Children-Friendly Page</title>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <style>
      /* Style for the circles */
      .circle {
        display: inline-block;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #f7e5c5;
        margin-right: 20px;
        text-align: center;
        font-size: 30px;
        line-height: 50px;
        color: #8d5a38;
        font-weight: bold;
      }
      /* Style for the smaller circles above each circle */
      .small-circle {
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: #f7e5c5;
        margin-right: 10px;
        text-align: center;
        font-size: 16px;
        line-height: 20px;
        color: #8d5a38;
        font-weight: bold;
      }
      * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Comic Sans MS", cursive, sans-serif;
}

/* Set Body Background and Text Color */
body {
  font-family: "Comic Sans MS", cursive, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f8e7a7;
}

/* Set Header Background and Padding */
header {
  background-color: #FFD9E6;
  padding: 20px;
}

/* Set Navigation Styles */
nav {
  display: flex;
  justify-content: flex-end;
  align-items: center;
}

nav ul {
  display: flex;
  list-style-type: none;
  margin: 0;
  padding: 0;
}

nav li {
  margin-right: 20px;
}

nav li:last-child {
  margin-right: 0;
}

nav a {
  text-decoration: none;
  color: #444444;
  font-weight: bold;
  font-size: 20px;
  transition: color 0.3s ease-in-out;
}

nav a:hover {
  color: #FF6B6B;
}

/* Set Main Content Styles */
main {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 50px;
}

h1 {
  font-size: 48px;
  font-weight: bold;
  color: #FF6B6B;
  margin-bottom: 20px;
}

p {
  font-size: 24px;
  text-align: center;
  margin-bottom: 40px;
}

form {
  margin: 20px;
  padding: 20px;
  background-color: #f5f5f5;
  border-radius: 10px;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
  font-family: 'Roboto Condensed', sans-serif;
}

form label {
  display: block;
  margin-bottom: 10px;
  font-weight: bold;
}

form input[type="number"] {
  display: block;
  padding: 10px;
  margin-bottom: 20px;
  width: 100%;
  font-size: 18px;
  border: none;
  border-radius: 5px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
}

form button[type="submit"] {
  background-color: #4CAF50;
  color: white;
  padding: 10px;
  border: none;
  border-radius: 5px;
  font-size: 18px;
  cursor: pointer;
}

form button[type="submit"]:hover {
  background-color: #3e8e41;
}


/* Set Footer Styles */
footer {
  background-color: #444444;
  color: #FFFFFF;
  padding: 20px;
  text-align: center;
}

footer p {
  font-size: 18px;
  margin: 0;
}
    </style>
  </head>
  <body>
    <!-- Circles with numbers -->
    <div>
        {% for foo in all %}
            <div class="circle">{{ foo.rand_name }}</div>
            <div class="small-circle">{{ foo.stu_name }}</div>
        {% endfor %}

    </div>

    <!-- Heading -->
    <form action="{% url "pick" %}" method="post" id="post-form">
        {% csrf_token %}

        <input type="text" name="words">
        <label for="stu" id="stu"></label>
        <input type="text" name="stu" id="stud" readonly>
        <input type="submit" value="submit">
    </form>
<form method="get" name="get_form">
    <input type="text" name="dataa" id="dataa" hidden="hidden">
</form>

    {% if messages %}
    {% for message in messages %}
    {{ message }}
    {% endfor %}
{% endif %}

<h1>{{ time }}</h1>
<h3>Time Remaining: <span id="time_remaining"></span> seconds</h3>
    <!-- Form with input and submit button -->
{#    <form>#}
{#      <label for="name">Name:</label>#}
{#      <input type="text" id="name" name="name"><br><br>#}
{#      <label for="email">Email:</label>#}
{#      <input type="email" id="email" name="email"><br><br>#}
{#      <input type="submit" value="Submit">#}
{#    </form>#}

  <script>
    const names = {{ all_names|safe }}


    function randomGenerator(names) {
                for (let i = 0; i < 2; i++) {
            const random = names[Math.floor(Math.random() * names.length)];
            return random;

        }
    }
    const randomName = randomGenerator(names);
    document.getElementById("stud").value = randomName;
    document.getElementById("dataa").value = randomName;

</script>



<script>
    // JavaScript code to update time remaining dynamically and reload page after time limit expires
    $(document).ready(function() {
        var end_time = {{ request.session.end_time }};
        timerInterval = setInterval(function() {
            var current_time = Math.round((new Date()).getTime() / 1000);
            var time_remaining = Math.round(end_time - current_time, 0);
            $('#time_remaining').text(time_remaining);


            if (time_remaining <= 0) {
                // Reload the page after time limit expires
                clearInterval(timerInterval);
                alert("time up");

                var oform = document.forms['get_form'];
                oform.submit()
                location.reload()



            }
        }, 1000);
    });


</script>
  </body>
</html>
